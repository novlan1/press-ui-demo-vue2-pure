(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-384e9346"],{"0547":function(t,e,a){"use strict";a("8bcb")},"0b5d":function(t,e,a){var i=a("ee2b");e=i(!1),e.push([t.i,".press-signature[data-v-59b5f20a]{padding:var(--press-signature-padding,var(--press-padding-xs,8px))}.press-signature__content[data-v-59b5f20a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:var(--press-signature-content-height,200px);background-color:var(--press-signature-content-background,var(--press-background-2,#fff));border:var(--press-signature-content-border,1px dotted #dadada);border-radius:var(--press-radius-lg,8px);overflow:hidden}.press-signature__content canvas[data-v-59b5f20a],.press-signature__content Canvas[data-v-59b5f20a]{width:100%;height:100%}.press-signature__footer[data-v-59b5f20a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.press-signature__footer .press-button[data-v-59b5f20a],.press-signature__footer[data-v-59b5f20a]  .press-signature__button{padding:0 var(--press-padding-md,12px);margin:var(--press-padding-xs,8px)}",""]),t.exports=e},"1bd3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.inited?a("div",{class:t.transitionClass,style:t.rootStyle,on:{transitionend:t.onTransitionEnd,click:t.onClick,touchmove:t.onTouchmove}},[t._t("default")],2):t._e()},n=[],r=a("4455"),o=(a("e087"),a("06e6"),a("8999"),a("b41b"),a("6058"),a("093a"),a("8a2b")),s=a("7b69"),c=a("a489");function l(t){return Object(c["b"])([{"-webkit-transition-duration":"".concat(t.currentDuration,"ms"),"transition-duration":"".concat(t.currentDuration,"ms")},t.display?null:"display: none",t.customStyle])}var d={rootStyle:l},u={name:"PressTransition",mixins:[Object(s["a"])(!0)],props:Object(r["a"])({overlay:{type:Boolean,default:!1},enterClass:{type:String,default:""},enterActiveClass:{type:String,default:""},enterToClass:{type:String,default:""},leaveClass:{type:String,default:""},leaveActiveClass:{type:String,default:""},leaveToClass:{type:String,default:""},afterEnterCallback:{type:Function,default:function(){return function(){}}},afterLeaveCallback:{type:Function,default:function(){return function(){}}},enterCallback:{type:Function,default:function(){return function(){}}},leaveCallback:{type:Function,default:function(){return function(){}}},beforeEnterCallback:{type:Function,default:function(){return function(){}}},beforeLeaveCallback:{type:Function,default:function(){return function(){}}}},o["c"]),emits:["click","touchmove","before-enter","enter","after-enter","before-leave","leave","after-leave"],data:function(){return{classes:""}},options:Object(r["a"])(Object(r["a"])({},o["b"]),{},{styleIsolation:"shared"}),computed:{rootStyle:function(){var t=this.currentDuration,e=this.display,a=this.customStyle,i=d.rootStyle({currentDuration:t,display:e,customStyle:a});return i},transitionClass:function(){var t=this.customClass,e=this.overlay,a=this.classes;return"press-transition ".concat(a," ").concat(t," ").concat(e?"press-overlay":"")}},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(a){e[a]=t[a]}))},onClick:function(){this.$emit("click")},onTouchmove:function(t){this.$emit("touchmove",t)}}},h=u,f=(a("4552"),a("33b6")),p=Object(f["a"])(h,i,n,!1,null,"4716a7b6",null);e["a"]=p.exports},2112:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o}));a("0c4e"),a("fec7"),a("4498");var i=/scroll|auto|overlay/i;function n(t,e){void 0===e&&(e=window);var a=t;while(a&&"HTML"!==a.tagName&&"BODY"!==a.tagName&&1===a.nodeType&&a!==e){var n=window.getComputedStyle(a),r=n.overflowY;if(i.test(r))return a;a=a.parentNode}return e}function r(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function o(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},"37da":function(t,e,a){"use strict";var i=a("4a23"),n=a("b7a1"),r=a("9f44"),o=RangeError;t.exports=function(t){var e=n(r(this)),a="",s=i(t);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(a+=e);return a}},4552:function(t,e,a){"use strict";a("9626")},6025:function(t,e,a){"use strict";function i(t){return Object.assign(t,{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,a,i,n){t.shadowOffsetX=e,t.shadowOffsetY=a,t.shadowBlur=i,t.shadowColor=n},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})}a.d(e,"a",(function(){return i}))},"673f":function(t,e,a){var i=a("ee2b");e=i(!1),e.push([t.i,".press-image[data-v-5ce72124]{position:relative;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.press-image__image[data-v-5ce72124]{width:100%;height:100%}.press-image__error[data-v-5ce72124],.press-image__loading[data-v-5ce72124]{position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#f3f4f6;color:#909193;font-size:23px}",""]),t.exports=e},"6d5c":function(t,e,a){var i=a("e200");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("c69b").default;n("4491fc1d",i,!0,{sourceMap:!1,shadowMode:!1})},"7b69":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("e087"),a("c26f"),a("a88c");var i=a("c88d"),n=a("ed6a"),r=function(t,e){var a=e.enterClass,i=e.enterActiveClass,n=e.enterToClass,r=e.leaveClass,o=e.leaveActiveClass,s=e.leaveToClass;return{enter:"press-".concat(t,"-enter press-").concat(t,"-enter-active ").concat(a," ").concat(i),"enter-to":"press-".concat(t,"-enter-to press-").concat(t,"-enter-active ").concat(n," ").concat(i),leave:"press-".concat(t,"-leave press-").concat(t,"-leave-active ").concat(r," ").concat(o),"leave-to":"press-".concat(t,"-leave-to press-").concat(t,"-leave-active ").concat(s," ").concat(o)}};function o(t){return{props:{customStyle:String,show:{type:Boolean,default:t},duration:{type:[Number,Object,null],default:300},name:{type:String,default:"fade"}},data:function(){return{type:"",inited:!1,display:!1,dataName:this.name}},watch:{show:{handler:function(){this.observeShow.apply(this,arguments)}},name:{handler:function(t){this.dataName=t}}},mounted:function(){!0===this.show&&this.observeShow(!0,!1)},methods:{observeShow:function(t,e){t!==e&&(t?this.enter():this.leave())},callback:function(t){"function"===typeof this["".concat(t,"Callback")]&&this["".concat(t,"Callback")]()},enter:function(){var t=this,e=this.duration,a=this.dataName,o=r(a,this),s=Object(n["h"])(e)?e.enter:e;this.status="enter",this.$emit("before-enter"),this.callback("beforeEnter"),Object(i["d"])((function(){"enter"===t.status&&(t.$emit("enter"),t.setData({inited:!0,display:!0,classes:o.enter,currentDuration:s}),t.callback("enter"),Object(i["d"])((function(){"enter"===t.status&&(t.transitionEnded=!1,t.setData({classes:o["enter-to"]}))})))}))},leave:function(){var t=this;if(this.display){var e=this.duration,a=this.dataName,o=r(a,this),s=Object(n["h"])(e)?e.leave:e;this.status="leave",this.$emit("before-leave"),this.callback("beforeLeave"),Object(i["d"])((function(){"leave"===t.status&&(t.$emit("leave"),t.setData({classes:o.leave,currentDuration:s}),t.callback("leave"),Object(i["d"])((function(){"leave"===t.status&&(t.transitionEnded=!1,setTimeout((function(){return t.onTransitionEnd()}),s),t.setData({classes:o["leave-to"]}))})))}))}},onTransitionEnd:function(){if(!this.transitionEnded){this.transitionEnded=!0,this.$emit("after-".concat(this.status)),this.callback("enter"===this.status?"afterEnter":"afterLeave");var t=this.show,e=this.display;!t&&e&&this.setData({display:!1})}}}}}},"7da4":function(t,e,a){"use strict";a("6d5c")},"7f21":function(t,e,a){"use strict";a("9d6c")},"815c":function(t,e,a){"use strict";var i=a("c71e"),n=a("facd"),r=a("7312");i({target:"Array",proto:!0},{fill:n}),r("fill")},"8bcb":function(t,e,a){var i=a("673f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("c69b").default;n("45d3a7ca",i,!0,{sourceMap:!1,shadowMode:!1})},9626:function(t,e,a){var i=a("b803");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("c69b").default;n("0adb2d85",i,!0,{sourceMap:!1,shadowMode:!1})},"9d6c":function(t,e,a){var i=a("0b5d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("c69b").default;n("48c0cdfa",i,!0,{sourceMap:!1,shadowMode:!1})},a944:function(t,e,a){"use strict";var i=a("c71e"),n=a("d088"),r=a("4a23"),o=a("f8ac"),s=a("37da"),c=a("a56e"),l=RangeError,d=String,u=Math.floor,h=n(s),f=n("".slice),p=n(1..toFixed),v=function(t,e,a){return 0===e?a:e%2===1?v(t,e-1,a*t):v(t*t,e/2,a)},g=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},b=function(t,e,a){var i=-1,n=a;while(++i<6)n+=e*t[i],t[i]=n%1e7,n=u(n/1e7)},m=function(t,e){var a=6,i=0;while(--a>=0)i+=t[a],t[a]=u(i/e),i=i%e*1e7},y=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var i=d(t[e]);a=""===a?i:a+h("0",7-i.length)+i}return a},w=c((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!c((function(){p({})}));i({target:"Number",proto:!0,forced:w},{toFixed:function(t){var e,a,i,n,s=o(this),c=r(t),u=[0,0,0,0,0,0],p="",w="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(s!==s)return"NaN";if(s<=-1e21||s>=1e21)return d(s);if(s<0&&(p="-",s=-s),s>1e-21)if(e=g(s*v(2,69,1))-69,a=e<0?s*v(2,-e,1):s/v(2,e,1),a*=4503599627370496,e=52-e,e>0){b(u,0,a),i=c;while(i>=7)b(u,1e7,0),i-=7;b(u,v(10,i,1),0),i=e-1;while(i>=23)m(u,1<<23),i-=23;m(u,1<<i),b(u,1,1),m(u,2),w=y(u)}else b(u,0,a),b(u,1<<-e,0),w=y(u)+h("0",c);return c>0?(n=w.length,w=p+(n<=c?"0."+h("0",c-n)+w:f(w,0,n-c)+"."+f(w,n-c))):w=p+w,w}})},b803:function(t,e,a){var i=a("ee2b");e=i(!1),e.push([t.i,".press-transition[data-v-4716a7b6]{-webkit-transition-timing-function:ease;transition-timing-function:ease}.press-fade-enter-active[data-v-4716a7b6],.press-fade-leave-active[data-v-4716a7b6]{-webkit-transition-property:opacity;transition-property:opacity}.press-fade-enter[data-v-4716a7b6],.press-fade-leave-to[data-v-4716a7b6]{opacity:0}.press-fade-down-enter-active[data-v-4716a7b6],.press-fade-down-leave-active[data-v-4716a7b6],.press-fade-left-enter-active[data-v-4716a7b6],.press-fade-left-leave-active[data-v-4716a7b6],.press-fade-right-enter-active[data-v-4716a7b6],.press-fade-right-leave-active[data-v-4716a7b6],.press-fade-up-enter-active[data-v-4716a7b6],.press-fade-up-leave-active[data-v-4716a7b6]{-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.press-fade-up-enter[data-v-4716a7b6],.press-fade-up-leave-to[data-v-4716a7b6]{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.press-fade-down-enter[data-v-4716a7b6],.press-fade-down-leave-to[data-v-4716a7b6]{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.press-fade-left-enter[data-v-4716a7b6],.press-fade-left-leave-to[data-v-4716a7b6]{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.press-fade-right-enter[data-v-4716a7b6],.press-fade-right-leave-to[data-v-4716a7b6]{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.press-slide-down-enter-active[data-v-4716a7b6],.press-slide-down-leave-active[data-v-4716a7b6],.press-slide-left-enter-active[data-v-4716a7b6],.press-slide-left-leave-active[data-v-4716a7b6],.press-slide-right-enter-active[data-v-4716a7b6],.press-slide-right-leave-active[data-v-4716a7b6],.press-slide-up-enter-active[data-v-4716a7b6],.press-slide-up-leave-active[data-v-4716a7b6]{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.press-slide-up-enter[data-v-4716a7b6],.press-slide-up-leave-to[data-v-4716a7b6]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.press-slide-down-enter[data-v-4716a7b6],.press-slide-down-leave-to[data-v-4716a7b6]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.press-slide-left-enter[data-v-4716a7b6],.press-slide-left-leave-to[data-v-4716a7b6]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.press-slide-right-enter[data-v-4716a7b6],.press-slide-right-leave-to[data-v-4716a7b6]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.press-overlay[data-v-4716a7b6]{background-color:var(--overlay-background-color,rgba(0,0,0,.7));height:100%;left:0;position:fixed;top:0;width:100%}",""]),t.exports=e},c539:function(t,e,a){"use strict";a.d(e,"b",(function(){return d})),a.d(e,"f",(function(){return u})),a.d(e,"e",(function(){return h})),a.d(e,"d",(function(){return f})),a.d(e,"c",(function(){return p})),a.d(e,"a",(function(){return v}));var i=a("9c63"),n=a("4455"),r=(a("25f7"),a("8999"),a("0c4e"),a("080f"),a("1b11")),o=a("2857"),s=a("2c6a"),c=a("5a34"),l=a("2112");function d(t){var e=Object(r["a"])(),a=e.top,i=void 0===a?0:a;return Object(o["b"])()||Object(c["b"])()?t-i:t}function u(){if(Object(o["b"])()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),a=Object(r["a"])(),i=a.top,n=a.bottom;return e-=i,e-=n,{windowWidth:t,windowHeight:e,windowTop:i,windowBottom:n}}var c=Object(s["f"])(),l=c.windowWidth,d=c.windowHeight,u=c.windowTop,h=c.windowBottom;return{windowWidth:l,windowHeight:d,windowTop:u,windowBottom:h}}function h(){if(Object(o["b"])())return 0;var t=Object(s["f"])(),e=t.statusBarHeight;return e}function f(t,e){return new Promise((function(a){var i=Object(l["a"])(e),n=t.$el;if(n){var r=n.querySelector(i);return r||a({}),void a({scrollHeight:r.scrollHeight,scrollTop:r.scrollTop})}uni.createSelectorQuery().in(t).select(i).fields({scrollOffset:!0},(function(t){a(t)})).exec()}))}function p(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i){var o=null===t||void 0===t?void 0:t.$el,s=null===o||void 0===o?void 0:o.querySelector(e);if(!s&&a&&(s=document.querySelector(e)),s){var c=s.getBoundingClientRect()||{},l=Object(r["a"])(),d=l.top,u={left:c.left,right:c.right,width:c.width,height:c.height,x:c.x,y:c.y,top:c.top,bottom:c.bottom};u=Object(n["a"])(Object(n["a"])({},u),{},{top:c.top-d,bottom:c.bottom-d}),i(u)}else i({})}))}function v(t,e){return new Promise((function(a){var n=t.$el;if(n){var r=n.querySelectorAll(e),o=Object(i["a"])(r).map((function(t){return t.getBoundingClientRect()}));a(o)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(t[0])}))}))}},c88d:function(t,e,a){"use strict";a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return c}));a("8999"),a("b41b"),a("6058"),a("093a");var i=a("2857"),n=a("2c6a"),r=a("7c6f");function o(t){return setTimeout((function(){t()}),1e3/30)}function s(t,e){Object(n["d"])()&&t.groupSetData?t.groupSetData(e):e()}function c(t){var e=t.selector,a=t.callback,n=t.options;if(Object(i["b"])()){var r=new IntersectionObserver(a,n),o=document.querySelectorAll(e);return o.forEach((function(t){r.observe(t)})),!0}return!1}a.d(e,"c",(function(){return r["g"]}))},e200:function(t,e,a){var i=a("ee2b");e=i(!1),e.push([t.i,"uni-image[data-v-56d64e11]{display:inline-block;overflow:hidden;position:relative}uni-image[hidden][data-v-56d64e11]{display:none}uni-image>div[data-v-56d64e11],uni-image>img[data-v-56d64e11]{width:100%;height:100%}uni-image>img[data-v-56d64e11]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;display:block;position:absolute;top:0;left:0;opacity:0}uni-image>.uni-image-will-change[data-v-56d64e11]{will-change:transform}",""]),t.exports=e},eabc:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PressTransition",{attrs:{mode:"fade",show:t.show,duration:t.fade?t.durationTime:0,"custom-style":"display: inline-block;"+t.transitionStyle}},[a("div",{staticClass:"press-image",style:t.wrapStyle,on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[t.isError?t._e():[t.isNotInUni?a("InnerImage",{staticClass:"press-image__image",style:{borderRadius:t.round?"10000px":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)},attrs:{src:t.src,mode:t.mode,"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad},on:{error:t.onErrorHandler,load:t.onLoadHandler}}):t._e(),t.isNotInUni?t._e():a("image",{staticClass:"press-image__image",style:{borderRadius:t.round?"10000px":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)},attrs:{src:t.src,mode:t.mode,"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad},on:{error:t.onErrorHandler,load:t.onLoadHandler}})],t.showLoading&&t.loading?a("div",{staticClass:"press-image__loading",style:{borderRadius:t.round?"50%":t.addUnit(t.radius),backgroundColor:t.backgroundColor,width:t.addUnit(t.width),height:t.addUnit(t.height)}},[t._t("loading",[a("PressIconPlus",{attrs:{name:t.loadingIcon,width:t.width,height:t.height}})])],2):t._e(),t.showError&&t.isError&&!t.loading?a("div",{staticClass:"press-image__error",style:{borderRadius:t.round?"50%":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)}},[t._t("error",[a("PressIconPlus",{attrs:{name:t.errorIcon,width:t.width,height:t.height}})])],2):t._e()],2)])},n=[],r=a("4455"),o=a("6ab5"),s=a("a489"),c=a("2857"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isVue2?a("uni-image",t._g({},t.$listeners),[a("div",{ref:"content",style:t.style}),"widthFix"===t.mode||"heightFix"===t.mode?a("div",{ref:"sensor",on:{resize:function(e){return t._fixSize()}}}):t._e()]):a("uni-image",t._b({},"uni-image",t.$attrs,!1),[a("div",{ref:"content",style:t.style}),"widthFix"===t.mode||"heightFix"===t.mode?a("div",{ref:"sensor",on:{resize:function(e){return t._fixSize()}}}):t._e()])},d=[],u=a("7cc8"),h=a("7c6f");function f(t){return("undefined"===typeof navigator||Object(u["a"])(navigator))&&"Google Inc."===navigator.vendor&&t>10&&(t=2*Math.round(t/2)),t}Object(c["b"])()&&Object(h["h"])(["uni-image"],app);var p={name:"Image",props:{src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},lazyLoad:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1}},data:function(){return{originalWidth:0,originalHeight:0,originalStyle:{width:"",height:""},contentPath:""}},computed:{isVue2:function(){var t=!0;return t},ratio:function(){return this.originalWidth&&this.originalHeight?this.originalWidth/this.originalHeight:0},style:function(){var t="auto",e="",a="no-repeat";switch(this.mode){case"aspectFit":t="contain",e="center center";break;case"aspectFill":t="cover",e="center center";break;case"widthFix":case"heightFix":t="100% 100%";break;case"top":e="center top";break;case"bottom":e="center bottom";break;case"center":e="center center";break;case"left":e="left center";break;case"right":e="right center";break;case"top left":e="left top";break;case"top right":e="right top";break;case"bottom left":e="left bottom";break;case"bottom right":e="right bottom";break;default:t="100% 100%",e="0% 0%";break}return{"background-image":this.contentPath?'url("'.concat(this.contentPath,'")'):"none","background-position":e,"background-size":t,"background-repeat":a}}},watch:{src:function(){this._loadImage()},mode:function(t,e){"widthFix"!==e&&"heightFix"!==e||this._resetSize(),"widthFix"!==t&&"heightFix"!==t||this._fixSize()},contentPath:function(t){!t&&this.__img&&(this.__img.remove(),delete this.__img)}},mounted:function(){this.originalStyle.width=this.$el.style.width||"",this.originalStyle.height=this.$el.style.height||"",this._loadImage()},beforeDestroy:function(){this._clearImage()},methods:{_fixSize:function(){if(this.ratio){var t=this.$el;if("widthFix"===this.mode){var e=t.offsetWidth;e&&(t.style.height="".concat(f(e/this.ratio),"px"))}else if("heightFix"===this.mode){var a=t.offsetHeight;a&&(t.style.width="".concat(f(a*this.ratio),"px"))}}window.dispatchEvent(new CustomEvent("updateview"))},_resetSize:function(){this.$el.style.width=this.originalStyle.width,this.$el.style.height=this.originalStyle.height},_resetData:function(){this.originalWidth=0,this.originalHeight=0,this.contentPath=""},_loadImage:function(){var t=this,e=this.src;if(e){this._img=this._img||new Image;var a=this._img;a.onload=function(i){t._img=null,t.originalWidth=a.width;var n=t.originalWidth;t.originalHeight=a.height;var r=t.originalHeight;t._fixSize(),t.contentPath=e,a.draggable=t.draggable,t.__img&&t.__img.remove(),t.__img=a,t.$el.appendChild(a),t.$emit("load",i,{width:n,height:r})},a.onerror=function(e){t._img=null,t._resetData(),t.$emit("error",e,{errMsg:"GET ".concat(t.src," 404 (Not Found)")})},a.src=e}else this._clearImage(),this._resetData()},_clearImage:function(){var t=this._img;t&&(t.onload=null,t.onerror=null,this._img=null)}}},v=p,g=(a("7da4"),a("33b6")),b=Object(g["a"])(v,l,d,!1,null,"56d64e11",null),m=b.exports,y=a("c736"),w=a("1bd3"),x=(a("a88c"),{props:{src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},width:{type:[String,Number],default:300},height:{type:[String,Number],default:225},round:{type:Boolean,default:!1},radius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"photo-fail"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},backgroundColor:{type:String,default:"#f3f4f6"},customStyle:{type:String,default:""},transitionStyle:{type:String,default:""}}}),k={name:"PressImage",options:{virtualHost:!0,styleIsolation:"shared"},components:{PressIconPlus:y["a"],PressTransition:w["a"],InnerImage:m},mixins:[x],emits:["click","error","load"],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1,isNotInUni:Object(c["b"])()}},computed:{wrapStyle:function(){var t={};t.width=Object(o["a"])(this.width),t.height=Object(o["a"])(this.height),t.borderRadius=this.round?"10000px":Object(o["a"])(this.radius),t.overflow=this.radius>0?"hidden":"visible";var e=Object(s["a"])([Object(r["a"])(Object(r["a"])({},t),this.backgroundStyle),this.customStyle]);return e}},watch:{src:{immediate:!0,handler:function(t){t?(this.isError=!1,this.loading=!0):this.isError=!0}}},mounted:function(){this.show=!0},methods:{addUnit:o["a"],onClick:function(){this.$emit("click")},onErrorHandler:function(t){this.loading=!1,this.isError=!0,this.$emit("error",t)},onLoadHandler:function(t){this.loading=!1,this.isError=!1,this.$emit("load",t),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}},_=k,C=(a("0547"),Object(g["a"])(_,i,n,!1,null,"5ce72124",null));e["a"]=C.exports},f1b4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"press-signature",class:t.customClass},[a("div",{ref:"wrapRef",staticClass:"press-signature__content",attrs:{id:t.wrapId}},[t.isRenderCanvas?a("Canvas",{ref:"canvasRef",attrs:{id:t.canvasId,type:"2d","canvas-id":t.canvasId},on:{"&touchstart":function(e){return t.touchStart(e)},touchmove:function(e){return e.preventDefault(),e.stopPropagation(),t.touchMove(e)},touchend:function(e){return e.preventDefault(),e.stopPropagation(),t.touchEnd(e)}}}):a("p",[t._v(" "+t._s(t.tips)+" ")])],1),a("div",{staticClass:"press-signature__footer"},[a("PressButton",{attrs:{"custom-class":"press-signature__button press-signature__button--clear",size:"small"},on:{click:t.clear}},[t._v(" "+t._s(t.clearButtonText||t.t("clear"))+" ")]),a("PressButton",{attrs:{"custom-class":"press-signature__button press-signature__submit",type:"primary",size:"small"},on:{click:t.submit}},[t._v(" "+t._s(t.confirmButtonText||t.t("confirm"))+" ")])],1)])},n=[],r=(a("e087"),a("a88c"),a("8999"),a("0c4e"),a("c539")),o=a("2857"),s=a("ed6a"),c=a("2c6a"),l=a("abc6"),d=a("ca3c"),u=a("6025");a("815c"),a("cfff"),a("a944");function h(t,e,a){var i=a.lineColor,n=void 0===i?"#1A1A1A":i,r=a.updateRadius,o=a.radius,s=o,c=60,l=1,d=1.5,u=.5,h=4;if(!(e.length<=1)){var g,b,m,y,w,x,k=0,_=0,C=.5;e.length<=2?(g=e[1].x,y=e[1].y,m=e[1].x+(e[0].x-e[1].x)*C,x=e[1].y+(e[0].y-e[1].y)*C,b=g+(m-g)*C,w=y+(x-y)*C):(g=e[2].x+(e[1].x-e[2].x)*C,y=e[2].y+(e[1].y-e[2].y)*C,b=e[1].x,w=e[1].y,m=b+(e[0].x-b)*C,x=w+(e[0].y-w)*C);for(var S=f({x:m,y:x},{x:g,y:y}),j=s,O=0;O<e.length-1;O++)if(k+=e[O].dis,_+=e[O].time-e[O+1].time,k>c)break;s=Math.min(_/S*l+u,h)*d,r(s),e[0].r=s;for(var F=5,T=[],P=0;P<F;P++){var I=P/(F-1),E=(1-I)*(1-I)*g+2*I*(1-I)*b+I*I*m,L=(1-I)*(1-I)*y+2*I*(1-I)*w+I*I*x,B=j+(s-j)/F*P;if(T.push({x:E,y:L,r:B}),3==T.length){var R=p(T[0].x,T[0].y,T[0].r,T[1].x,T[1].y,T[1].r,T[2].x,T[2].y,T[2].r);R[0].color=n,v(t,R,1),T=[{x:E,y:L,r:B}]}}return e}e[0].r=s}function f(t,e){var a=e.x-t.x,i=e.y-t.y;return Math.sqrt(a*a+i*i)}function p(t,e,a,i,n,r,o,s,c){var l,d,u,h,f,p=[];l=i-t,d=n-e,u=2*Math.sqrt(l*l+d*d+1e-4),l=l/u*a,d=d/u*a;var v=d,g=-l;h=i-o,f=n-s,u=2*Math.sqrt(h*h+f*f+1e-4),h=h/u*c,f=f/u*c;var b=-f,m=h;p.push({mx:t+v,my:e+g,color:"#1A1A1A"}),p.push({c1x:i+v,c1y:n+g,c2x:i+b,c2y:n+m,ex:o+b,ey:s+m}),p.push({c1x:o+b-h,c1y:s+m-f,c2x:o-b-h,c2y:s-m-f,ex:o-b,ey:s-m}),p.push({c1x:i-b,c1y:n-m,c2x:i-v,c2y:n-g,ex:t-v,ey:e-g}),p.push({c1x:t-v-l,c1y:e-g-d,c2x:t+v-l,c2y:e+g-d,ex:t+v,ey:e+g}),p[0].mx=p[0].mx.toFixed(1),p[0].mx=parseFloat(p[0].mx),p[0].my=p[0].my.toFixed(1),p[0].my=parseFloat(p[0].my);for(var y=1;y<p.length;y++)p[y].c1x=p[y].c1x.toFixed(1),p[y].c1x=parseFloat(p[y].c1x),p[y].c1y=p[y].c1y.toFixed(1),p[y].c1y=parseFloat(p[y].c1y),p[y].c2x=p[y].c2x.toFixed(1),p[y].c2x=parseFloat(p[y].c2x),p[y].c2y=p[y].c2y.toFixed(1),p[y].c2y=parseFloat(p[y].c2y),p[y].ex=p[y].ex.toFixed(1),p[y].ex=parseFloat(p[y].ex),p[y].ey=p[y].ey.toFixed(1),p[y].ey=parseFloat(p[y].ey);return p}function v(t,e,a,i){t.beginPath(),t.moveTo(e[0].mx,e[0].my),void 0!=i?(t.setFillStyle(i),t.setStrokeStyle(i)):(t.setFillStyle(e[0].color),t.setStrokeStyle(e[0].color));for(var n=1;n<e.length;n++)t.bezierCurveTo(e[n].c1x,e[n].c1y,e[n].c2x,e[n].c2y,e[n].ex,e[n].ey);t.stroke(),void 0!=a&&t.fill(),t.draw(!0)}var g=function(){var t,e=document.createElement("canvas");return!(null===(t=e.getContext)||void 0===t||!t.call(e,"2d"))},b=0,m={name:"PressSignature",components:{PressButton:d["a"]},options:{styleIsolation:"shared"},props:{customClass:{type:String,default:""},tips:{type:String,default:""},type:{type:String,default:""},penColor:{type:String,default:"#000"},lineWidth:{type:Number,default:3},backgroundColor:{type:String,default:"#fff"},clearButtonText:{type:String,default:Object(l["b"])("clear")},confirmButtonText:{type:String,default:Object(l["b"])("confirm")},fileType:{type:String,default:"jpg"}},emits:["start","signing","end","submit","clear"],data:function(){return{canvasRect:{},canvasWidth:0,canvasHeight:0,id:1,inited:!1,ctx:null,wrapId:"pressSignatureWrap",currentLine:[],lastPoint:{},currentPoint:{},radius:1,canvas:null}},computed:{canvasId:function(){var t="press-signature-".concat(this.id);return t},isRenderCanvas:function(){var t=!0;return t=!s["a"]||g(),t},useRawCanvas:function(){var t=!1;return t=!0,Object(o["b"])()&&(t=!0),t}},watch:{windowWidth:function(){this.resize()}},created:function(){b+=1,this.id=b},mounted:function(){this.initialize()},methods:{touchStart:function(t){var e=this;if(!this.ctx)return!1;this.useRawCanvas?(this.ctx.beginPath(),this.ctx.setLineWidth(this.lineWidth),this.ctx.setStrokeStyle(this.penColor)):this.updateCurrentLine(t,!0),Object(r["c"])(this,"#".concat(this.canvasId)).then((function(t){e.canvasRect=t,e.$emit("start")}))},pointToLine:function(t){var e=this,a=h(this.ctx,t,{lineColor:this.penColor,updateRadius:function(t){e.radius=t},radius:this.radius,lineWidth:this.lineWidth,penColor:this.penColor});a&&(this.currentLine=a)},updateCurrentLine:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={x:t.changedTouches[0].x,y:t.changedTouches[0].y};this.lastPoint=this.currentPoint,this.currentPoint=a;var i=this.currentLine;i.unshift({time:(new Date).getTime(),dis:e?0:f(this.currentPoint,this.lastPoint),x:a.x,y:a.y}),this.pointToLine(i)},touchMove:function(t){var e,a;if(!this.ctx)return!1;if(null===(e=t.preventDefault)||void 0===e||e.call(t),null===(a=t.stopPropagation)||void 0===a||a.call(t),this.useRawCanvas){var i,n,o=t.touches[0],s=o.clientX-((null===(i=this.canvasRect)||void 0===i?void 0:i.left)||0),l=Object(r["b"])(o.clientY)-((null===(n=this.canvasRect)||void 0===n?void 0:n.top)||0);this.ctx.setLineCap("round"),this.ctx.setLineJoin("round"),this.ctx.lineTo(s,l),this.ctx.stroke(),Object(c["a"])()||this.ctx.draw(!0)}else this.updateCurrentLine(t);this.$emit("signing",t)},touchEnd:function(t){var e;null===(e=t.preventDefault)||void 0===e||e.call(t),this.$emit("end"),this.useRawCanvas||(this.updateCurrentLine(t),this.currentLine=[])},submit:function(){var t=this,e=this;if(this.useRawCanvas){var a,i,n=this.$refs.canvasRef;if(!n)return;var r=this.isCanvasEmpty(n),o=r?"":(null===(a=(i={jpg:function(){return n.toDataURL("image/jpeg",.8)},jpeg:function(){return n.toDataURL("image/jpeg",.8)}})[this.type])||void 0===a?void 0:a.call(i))||n.toDataURL("image/".concat(this.type));this.$emit("submit",{image:o,canvas:n,width:this.canvasWidth,height:this.canvasHeight})}else{var s=function(){uni.canvasToTempFilePath({canvas:t.canvas,canvasId:t.canvasId,fileType:t.fileType,quality:1,success:function(t){var a=t.tempFilePath;e.base64(a,"jpg").then((function(t){e.$emit("submit",{image:t,canvas:e.canvas,width:e.canvasWidth,height:e.canvasHeight})}))},fail:function(t){console.warn("[canvasToTempFilePath] error: ",t)}},t)};s()}},base64:function(t,e){return new Promise((function(a,i){uni.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){a("data:image/".concat(e.toLocaleLowerCase(),";base64,").concat(t.data))},fail:function(){i()}})}))},innerClear:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.closePath(),this.ctx.draw(),this.setCanvasBgColor(this.ctx))},clear:function(){this.innerClear(),this.$emit("clear")},initialize:function(){var t=this;this.isRenderCanvas&&this.getContext().then((function(e){t.ctx=e,t.innerClear()}))},getContext:function(){var t=this,e=this;return new Promise((function(a,i){Object(r["c"])(t,"#".concat(t.wrapId)).then((function(t){var i=t.width,n=t.height;e.canvasWidth=i,e.canvasHeight=n;var r=e.innerGetContext({width:i,height:n});a(r)})).catch((function(t){i(t)}))}))},innerGetContext:function(t){var e=this,a=t.width,i=t.height,n=function(){var t=window.devicePixelRatio,n=document.getElementById(e.canvasId),r=n.getContext("2d");return e.inited||(e.inited=!0,n.width=a*t,n.height=i*t,r.scale(t,t)),Promise.resolve(Object(u["a"])(r))};if(this.useRawCanvas)return n();if(!Object(c["a"])()){var r=uni.createCanvasContext(this.canvasId,this);return this.inited=!0,r.scale(o,o),Promise.resolve(r)}var o=Object(c["f"])().pixelRatio;return new Promise((function(t){uni.createSelectorQuery().in(e).select("#".concat(e.canvasId)).node().exec((function(n){var r=n[0].node;e.canvas=r;var s=r.getContext("2d");e.inited||(e.inited=!0,r.width=a*o,r.height=i*o,s.scale(o,o)),t(Object(u["a"])(s))}))}))},resize:function(){if(this.ctx){var t=this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight);this.initialize(),this.ctx.putImageData(t,0,0)}},isCanvasEmpty:function(t){var e=document.createElement("canvas");if(e.width=t.width,e.height=t.height,this.backgroundColor){var a=e.getContext("2d");this.setCanvasBgColor(a)}return t.toDataURL()===e.toDataURL()},setCanvasBgColor:function(t){var e,a;t&&this.backgroundColor&&(t.fillStyle=this.backgroundColor,null===(e=t.setFillStyle)||void 0===e||e.call(t,this.backgroundColor),t.fillRect(0,0,this.canvasWidth,this.canvasHeight),null===(a=t.draw)||void 0===a||a.call(t))},t:l["b"]}},y=m,w=(a("7f21"),a("33b6")),x=Object(w["a"])(y,i,n,!1,null,"59b5f20a",null);e["a"]=x.exports},facd:function(t,e,a){"use strict";var i=a("55ff"),n=a("abca"),r=a("a282");t.exports=function(t){var e=i(this),a=r(e),o=arguments.length,s=n(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,l=void 0===c?a:n(c,a);while(l>s)e[s++]=t;return e}}}]);