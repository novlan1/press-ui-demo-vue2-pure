{"version":3,"sources":["webpack:///./src/pages/press/cropper/cropper.vue?a6d6","webpack:///./src/pages/press/cropper/cropper.vue?fd8e","webpack:///./src/pages/press/cropper/cropper.vue?6580","webpack:///./src/pages/press/cropper/cropper.vue","webpack:///./src/pages/press/cropper/cropper.vue?6b2b","webpack:///./src/pages/press/cropper/cropper.vue?fc64","webpack:///./src/pages/press/cropper/cropper.vue?1e65"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","selectImg","_v","show","src","isESport","h5Option","cropped","afterDraw","beforeDraw","cancel","confirm","parsedImage","_e","staticRenderFns","components","PressCropper","PressButton","PressImage","data","autoCrop","autoCropWidth","autoCropHeight","canMove","canMoveBox","centerBox","enlarge","fixedBox","info","infoTrue","mode","outputSize","outputType","mounted","initH5Option","methods","aspectRatio","cropWidth","window","innerWidth","innerHeight","_objectSpread","Math","floor","concat","_this","chooseImageInH5","then","res","img","console","log","context","transform","setFillStyle","zoom","ctx","fillText","width","height","imagePath","imageInfo","_len","arguments","length","args","Array","_key","component","content","__esModule","default","locals","add"],"mappings":"qGACA,IAAIA,EAA8B,EAAQ,QAC1CC,EAAUD,GAA4B,GAEtCC,EAAQC,KAAK,CAACC,EAAOC,EAAI,iDAAkD,KAE3ED,EAAOF,QAAUA,G,oCCNjB,W,yCCAA,IAAII,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQR,EAAIS,YAAY,CAACT,EAAIU,GAAG,YAAYN,EAAG,eAAe,CAACG,MAAM,CAAC,KAAOP,EAAIW,KAAK,IAAMX,EAAIY,IAAI,KAAO,EAAE,MAAQ,EAAE,YAAY,OAAO,gBAAe,EAAK,mBAAkB,EAAK,kBAAiB,EAAK,oBAAoB,QAAQ,aAAaZ,EAAIa,SAAS,YAAYb,EAAIc,UAAUN,GAAG,CAAC,QAAUR,EAAIe,QAAQ,UAAYf,EAAIgB,UAAU,WAAahB,EAAIiB,WAAW,OAASjB,EAAIkB,OAAO,QAAUlB,EAAImB,WAAYnB,EAAe,YAAEI,EAAG,aAAa,CAACG,MAAM,CAAC,IAAMP,EAAIoB,YAAY,KAAO,YAAY,mBAAmB,2DAA2D,eAAe,6BAA6BpB,EAAIqB,MAAM,IACzyBC,EAAkB,G,wEC6CP,GACbC,WAAY,CACVC,oBACAC,mBACAC,mBAEFC,KAAI,WACF,MAAO,CACLf,IAAK,GACLD,MAAM,EACNE,UAAU,EACVC,SAAU,CACRc,UAAU,EACVC,cAAe,MACfC,eAAgB,MAChBC,SAAS,EACTC,YAAY,EACZC,WAAW,EACXC,QAAS,EACTC,UAAU,EACVC,MAAM,EACNC,UAAU,EACVC,KAAM,UACNC,WAAY,EACZC,WAAY,OAEdpB,YAAa,KAGjBqB,QAAO,WACLxC,KAAKyC,gBAEPC,QAAS,CACPD,aAAY,WAEV,IAAME,EAAc,EACdC,EAAYC,OAAOC,WAAaD,OAAOE,YAAcF,OAAOE,YAAcF,OAAOC,WAEvF9C,KAAKa,SAAQmC,8BAAA,GACRhD,KAAKa,UAAQ,IAChBe,cAAegB,EACff,eAAgBoB,KAAKC,MAAMN,EAAYD,GACvCA,cACAN,KAAM,GAAFc,OAAKP,EAAS,WAClBL,WAAY,MACZP,WAAW,KAIfxB,UAAS,WAAG,IAAA4C,EAAA,KAEVC,iBAAkBC,MAAK,SAACC,GACtBH,EAAKzC,IAAM4C,EACXH,EAAKvC,SAAS2C,IAAMJ,EAAKzC,IAEzB8C,QAAQC,IAAI,QAASN,EAAKzC,KAC1ByC,EAAK1C,MAAO,MAmBhBM,WAAU,SAAC2C,EAASC,GAClBD,EAAQE,aAAa,UACrBD,EAAUE,KAAO,GAEnB/C,UAAS,SAACgD,EAAK5B,GACb4B,EAAIC,SAAS,WAAY,GAAI,IAC7BP,QAAQC,IAAI,UAADP,OAAWhB,EAAK8B,MAAK,KAAAd,OAAIhB,EAAK+B,UAE3CpD,QAAO,SAACqD,EAAWC,GACjBX,QAAQC,IAAI,YAAaS,EAAWC,IAEtClD,QAAO,WAAU,QAAAmD,EAAAC,UAAAC,OAANC,EAAI,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,EAAIE,GAAAJ,UAAAI,GACbjB,QAAQC,IAAI,YAAac,GACzBxE,KAAKU,MAAO,EACZV,KAAKmB,YAAcqD,EAAK,IAE1BvD,OAAM,WACJjB,KAAKU,MAAO,KC1Ig6B,I,wBCQ96BiE,EAAY,eACd,EACA7E,EACAuB,GACA,EACA,KACA,WACA,MAIa,aAAAsD,E,8BChBf,IAAIC,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAAChF,EAAOC,EAAI+E,EAAS,MAC7DA,EAAQG,SAAQnF,EAAOF,QAAUkF,EAAQG,QAE5C,IAAIC,EAAM,EAAQ,QAA+GF,QACpHE,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa","file":"js/chunk-6a371e86.ce5f4545.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".demo-wrap[data-v-95d35e1e]{padding:20px 20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/.pnpm/sass-loader@10.5.2_sass@1.46.0_webpack@4.47.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./cropper.vue?vue&type=style&index=0&id=95d35e1e&prod&scoped=true&lang=scss\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-wrap\"},[_c('PressButton',{attrs:{\"type\":\"primary\",\"block\":\"\"},on:{\"click\":_vm.selectImg}},[_vm._v(\" 上传图片 \")]),_c('PressCropper',{attrs:{\"show\":_vm.show,\"src\":_vm.src,\"zoom\":1,\"angle\":0,\"cut-width\":'100%',\"bound-detect\":true,\"disable-preview\":true,\"disable-rotate\":true,\"canvas-background\":\"black\",\"is-e-sport\":_vm.isESport,\"h5-option\":_vm.h5Option},on:{\"cropped\":_vm.cropped,\"afterDraw\":_vm.afterDraw,\"beforeDraw\":_vm.beforeDraw,\"cancel\":_vm.cancel,\"confirm\":_vm.confirm}}),(_vm.parsedImage)?_c('PressImage',{attrs:{\"src\":_vm.parsedImage,\"mode\":\"aspectFit\",\"transition-style\":\"margin: 20px auto;display: flex;justify-content: center;\",\"custom-style\":\"border: 1px solid #eee;\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PressButton from 'press-ui/press-button/press-button.vue';\nimport { chooseImageInH5 } from 'press-ui/press-cropper/helper';\nimport PressCropper from 'press-ui/press-cropper/press-cropper.vue';\nimport PressImage from 'press-ui/press-image/press-image.vue';\n\n\nexport default {\n  components: {\n    PressCropper,\n    PressButton,\n    PressImage,\n  },\n  data() {\n    return {\n      src: '',\n      show: false,\n      isESport: false,\n      h5Option: {\n        autoCrop: true,\n        autoCropWidth: '80%',\n        autoCropHeight: '80%',\n        canMove: true,\n        canMoveBox: true,\n        centerBox: true,\n        enlarge: 2,\n        fixedBox: true,\n        info: false,\n        infoTrue: true,\n        mode: 'contain',\n        outputSize: 1,\n        outputType: 'jpg',\n      },\n      parsedImage: '',\n    };\n  },\n  mounted() {\n    this.initH5Option();\n  },\n  methods: {\n    initH5Option() {\n\n      const aspectRatio = 1;\n      const cropWidth = window.innerWidth > window.innerHeight ? window.innerHeight : window.innerWidth;\n\n      this.h5Option = {\n        ...this.h5Option,\n        autoCropWidth: cropWidth,\n        autoCropHeight: Math.floor(cropWidth * aspectRatio),\n        aspectRatio,\n        mode: `${cropWidth}px auto`,\n        outputType: 'png',\n        centerBox: true,\n      };\n\n    },\n    selectImg() {\n\n      chooseImageInH5().then((res) => {\n        this.src = res;\n        this.h5Option.img = this.src;\n\n        console.log('[src]', this.src);\n        this.show = true;\n      });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    },\n    beforeDraw(context, transform) {\n      context.setFillStyle('yellow');\n      transform.zoom = 2;\n    },\n    afterDraw(ctx, info) {\n      ctx.fillText('我是一行文字水印', 20, 20);\n      console.log(`当前画布大小：${info.width}*${info.height}`);\n    },\n    cropped(imagePath, imageInfo) {\n      console.log('[cropped]', imagePath, imageInfo);\n    },\n    confirm(...args) {\n      console.log('[confirm]', args);\n      this.show = false;\n      this.parsedImage = args[0];\n    },\n    cancel() {\n      this.show = false;\n    },\n  },\n};\n","import mod from \"-!../../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-platform@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-platform/lib/loader.js!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./cropper.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-platform@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-platform/lib/loader.js!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./cropper.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./cropper.vue?vue&type=template&id=95d35e1e&scoped=true\"\nimport script from \"./cropper.vue?vue&type=script&lang=js\"\nexport * from \"./cropper.vue?vue&type=script&lang=js\"\nimport style0 from \"./cropper.vue?vue&type=style&index=0&id=95d35e1e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95d35e1e\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/.pnpm/sass-loader@10.5.2_sass@1.46.0_webpack@4.47.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./cropper.vue?vue&type=style&index=0&id=95d35e1e&prod&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6e581478\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}