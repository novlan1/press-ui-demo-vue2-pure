{"version":3,"sources":["webpack:///./src/packages/press-uploader/demo.vue?f031","webpack:///./src/packages/press-uploader/demo.vue","webpack:///./src/packages/press-uploader/demo.vue?286a","webpack:///./src/packages/press-uploader/demo.vue?c2d4"],"names":["that","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","t","fileList1","on","afterRead","deletePic","fileList2","fileListStatus","fileList3","fileList4","fileListMaxSize","onOversize","fileList6","staticStyle","beforeRead","staticRenderFns","IMG_URL","i18n","uploadVideo","uploadStatus","preview","maxCount","maxSize","customStyle","components","PressUploader","PressImage","data","url","status","message","mounted","methods","event","console","log","concat","name","splice","index","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lists","fileListLen","i","result","item","wrap","_context","prev","next","file","length","map","push","_objectSpread","uploadFilePromise","path","sent","Object","assign","stop","Promise","resolve","setTimeout","onGTip","type","asyncBeforeRead","reject","img","File","component"],"mappings":"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","file":"js/chunk-2d0bac79.d2314e64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo-wrap\"},[_c('demo-block',{attrs:{\"title\":_vm.t('basicUsage')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileList1,\"name\":\"1\",\"multiple\":\"\",\"max-count\":10},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('uploadVideo')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileList2,\"name\":\"2\",\"multiple\":\"\",\"max-count\":10,\"accept\":\"video\"},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('uploadStatus')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileListStatus,\"name\":\"Status\",\"multiple\":\"\",\"max-count\":10,\"accept\":\"video\"},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('preview')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileList3,\"name\":\"3\",\"multiple\":\"\",\"max-count\":10,\"preview-full-image\":true},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('maxCount')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileList4,\"name\":\"4\",\"multiple\":\"\",\"max-count\":2},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('maxSize')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileListMaxSize,\"name\":\"MaxSize\",\"multiple\":\"\",\"max-size\":500 * 1024},on:{\"afterRead\":_vm.afterRead,\"oversize\":_vm.onOversize}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('customStyle')}},[_c('PressUploader',{attrs:{\"file-list\":_vm.fileList6,\"name\":\"6\",\"multiple\":\"\",\"max-count\":1,\"width\":\"250\",\"height\":\"150\"},on:{\"afterRead\":_vm.afterRead,\"delete\":_vm.deletePic}},[_c('PressImage',{staticStyle:{\"width\":\"250px\",\"height\":\"150px\"},attrs:{\"src\":\"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_799718017ac81b11c0.png\",\"mode\":\"widthFix\",\"width\":\"250px\",\"height\":\"150px\"}})],1)],1),_c('demo-block',{attrs:{\"title\":_vm.t('beforeRead')}},[_c('PressUploader',{attrs:{\"before-read\":_vm.beforeRead}})],1),_c('demo-block',{attrs:{\"title\":_vm.t('disabled')}},[_c('PressUploader',{attrs:{\"disabled\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PressUploader from 'press-ui/press-uploader/press-uploader.vue';\nimport PressImage from 'press-ui/press-image/press-image.vue';\n\nconst IMG_URL = 'https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_a17f94292a34e9f644.jpeg';\n\n\nlet that;\nexport default {\n  i18n: {\n    'zh-CN': {\n      uploadVideo: '上传视频',\n      uploadStatus: '上传状态',\n      preview: '文件预览',\n      maxCount: '限制上传数量',\n      maxSize: '限制上传大小',\n      customStyle: '自定义上传样式',\n      beforeRead: '上传前置处理',\n    },\n    'en-US': {\n      uploadVideo: 'Upload Video',\n      uploadStatus: 'Upload Status',\n      preview: 'Preview',\n      maxCount: 'Max Count',\n      maxSize: 'Max Size',\n      customStyle: 'Custom Style',\n      beforeRead: 'Before Read',\n    },\n  },\n  components: {\n    PressUploader,\n    PressImage,\n  },\n  data() {\n    return {\n      fileList1: [],\n      fileListMaxSize: [],\n      fileList2: [],\n      fileList3: [{\n        url: IMG_URL,\n      }],\n      fileList4: [{\n        url: IMG_URL,\n      },\n      {\n        url: IMG_URL,\n      }],\n      fileList6: [],\n      fileListStatus: [\n        {\n          url: IMG_URL,\n          status: 'uploading',\n          message: '上传中...',\n        },\n        {\n          url: IMG_URL,\n          status: 'failed',\n          message: '上传失败',\n        },\n      ],\n    };\n  },\n  mounted() {\n    that = this;\n  },\n  methods: {\n    // 删除图片\n    deletePic(event) {\n      console.log('[deletePic] event', event);\n      this[`fileList${event.name}`].splice(event.index, 1);\n    },\n    // 新增图片\n    async afterRead(event) {\n      console.log('[afterRead] event', event);\n      // 当设置 multiple 为 true 时, file 为数组格式，否则为对象格式\n      const lists = [].concat(event.file);\n      let fileListLen = this[`fileList${event.name}`].length;\n      lists.map((item) => {\n        this[`fileList${event.name}`].push({\n          ...item,\n          status: 'uploading',\n          message: '上传中',\n        });\n      });\n\n      for (let i = 0; i < lists.length; i++) {\n        const result = await this.uploadFilePromise(lists[i].path);\n        const item = this[`fileList${event.name}`][fileListLen];\n\n        this[`fileList${event.name}`].splice(fileListLen, 1, Object.assign(item, {\n          // status: result.status, // 'success',\n          message: '',\n          // url: result.url,\n          ...result,\n        }));\n\n        fileListLen += 1;\n      }\n    },\n    uploadFilePromise(url) {\n      console.log('[uploadFilePromise] url', url);\n      return new Promise((resolve) => {\n        setTimeout(() => resolve({\n          url,\n          status: 'success',\n          // status: 'failed',\n          message: '上传失败',\n        }), 1000);\n      });\n      // return new Promise((resolve, reject) => {\n      //   const a = uni.uploadFile({\n      //     url: 'http://192.168.2.21:7001/upload', // 仅为示例，非真实的接口地址\n      //     filePath: url,\n      //     name: 'file',\n      //     formData: {\n      //       user: 'test',\n      //     },\n      //     success: (res) => {\n      //       setTimeout(() => {\n      //         resolve(res.data.data);\n      //       }, 1000);\n      //     },\n      //   });\n      // });\n    },\n    onOversize(file) {\n      console.log('[onOversize] file', file);\n      that.onGTip('文件大小不能超过 500kb');\n    },\n    beforeRead(file) {\n      console.log('[beforeRead] file', file);\n      if (file.type !== 'image/jpeg') {\n        that.onGTip('请上传 jpg 格式图片');\n        return false;\n      }\n      return true;\n    },\n    // 返回 Promise\n    asyncBeforeRead(file) {\n      console.log('[asyncBeforeRead] file', file);\n      return new Promise((resolve, reject) => {\n        if (file.type !== 'image/jpeg') {\n          that.onGTip('请上传 jpg 格式图片');\n          reject();\n        } else {\n          const img = new File(['foo'], 'bar.jpg', {\n            type: 'image/jpeg',\n          });\n          resolve(img);\n        }\n      });\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-platform@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-platform/lib/loader.js!../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./demo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/babel-loader@8.4.1_@babel+core@7.26.0_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-platform@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-platform/lib/loader.js!../../../node_modules/.pnpm/@plugin-light+webpack-loader-ifdef@0.0.9_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-ifdef/lib/loader.js??ref--16-0!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/.pnpm/@plugin-light+webpack-loader-cross-game-style@0.0.7_vue-template-compiler@2.6.10/node_modules/@plugin-light/webpack-loader-cross-game-style/lib/loader.js!./demo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./demo.vue?vue&type=template&id=5eb9bc60&scoped=true\"\nimport script from \"./demo.vue?vue&type=script&lang=js\"\nexport * from \"./demo.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.13_babel-core@7.0.0-bridge.0_@babel+core@7.26.0__cac_ghgpkjdahgmja67hg4a6w3vcia/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb9bc60\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}