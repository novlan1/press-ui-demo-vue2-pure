(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83737c5a"],{"071f":function(t,e,a){"use strict";a("1583")},1583:function(t,e,a){var r=a("afe0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("c69b").default;s("73ac5682",r,!0,{sourceMap:!1,shadowMode:!1})},"335a":function(t,e,a){var r=a("4720");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("c69b").default;s("44943dc1",r,!0,{sourceMap:!1,shadowMode:!1})},4720:function(t,e,a){var r=a("ee2b");e=r(!1),e.push([t.i,".press-watermark[data-v-6e0708a1]{--press-watermark-z-index:100;position:absolute;height:100%;width:100%;left:0;top:0;z-index:var(--press-watermark-z-index);background-repeat:repeat;pointer-events:none}.press-watermark__wrapper[data-v-6e0708a1]{display:none}.press-watermark--full[data-v-6e0708a1]{position:fixed}",""]),t.exports=e},afe0:function(t,e,a){var r=a("ee2b");e=r(!1),e.push([t.i,".demo-watermark-wrapper[data-v-329b9dcf]{position:relative;height:150px;background-color:#fff;padding:16px}",""]),t.exports=e},b3bd:function(t,e,a){"use strict";a("335a")},bd77:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-wrap"},[a("demo-block",{attrs:{title:t.t("textWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{content:"Press","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("imageWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customGap")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,"gap-x":30,"gap-y":10,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customRotate")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,rotate:"22",opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("displayRange")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressButton",{attrs:{type:"primary"},on:{click:function(e){t.fullPage=!t.fullPage}}},[t._v(" "+t._s(t.t("switch"))+" ")]),a("PressWatermark",{attrs:{"full-page":t.fullPage,opacity:"0.2",image:t.image}})],1)]),a("demo-block",{attrs:{title:t.t("htmlWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{width:150,"full-page":!1,watermark:t.watermark},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{background:"linear-gradient(45deg, #000 0, #000 50%, #fff 50%)"}},[a("p",{staticStyle:{"mix-blend-mode":"difference",color:"#fff"}},[t._v(" Press watermark ")])])]},proxy:!0}])})],1)])],1)},s=[],n=a("df0d"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PressWatermarkWeb",{attrs:{"gap-x":t.gapX,"gap-y":t.gapY,image:t.image,width:t.width,height:t.height,rotate:t.rotate,"z-index":t.zIndex,content:t.content,opacity:t.opacity,"full-page":t.fullPage,"text-color":t.textColor},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content")]},proxy:!0}],null,!0)})},o=[],l=a("4455"),c=(a("a88c"),{gapX:{type:Number,default:0},gapY:{type:Number,default:0},image:{type:String,default:""},width:{type:Number,default:100},height:{type:Number,default:100},rotate:{type:[Number,String],default:-22},zIndex:{type:[Number,String],default:100},content:{type:String,default:""},opacity:{type:[Number,String],default:1},fullPage:{type:Boolean,default:!1},textColor:{type:String,default:"#dcdee0"}}),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"press-watermark",class:{"press-watermark--full":t.fullPage},style:t.computedStyle},[a("div",{ref:"svgElRef",staticClass:"press-watermark__wrapper"},[t.image&&!t.$slots.content?a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},domProps:{innerHTML:t._s(t.imageHtml)}}):a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("foreignObject",{attrs:{x:"0",y:"0",width:t.width,height:t.height}},[a("div",{style:t.rotateStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._t("content",[a("span",{style:"color: "+t.textColor},[t._v(t._s(t.content))])])],2)])],1)])])},g=[],p=(a("e087"),a("8999"),a("45be"),a("15ea"),a("874f"),a("4a61"),a("60b7"),a("3504"),a("f6e1"),a("f221"),a("e2e1")),u=function(t){return new Promise((function(e){var a=document.createElement("canvas"),r=new Image;r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.onload=function(){a.width=r.naturalWidth,a.height=r.naturalHeight;var t=a.getContext("2d");null===t||void 0===t||t.drawImage(r,0,0),console.log("canvas.width",a.width),console.log("canvas.height",a.height),e(a.toDataURL())},r.src=t}))},d=function(t){var e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)},f={name:"PressWatermarkWeb",props:Object(l["a"])({},c),data:function(){return{imageBase64:"",watermarkUrl:""}},computed:{computedStyle:function(){return Object(p["a"])({backgroundImage:"url(".concat(this.watermarkUrl,")"),zIndex:this.zIndex})},rotateStyle:function(){return Object(p["a"])({transformOrigin:"center",transform:"rotate(".concat(this.rotate,"deg)")})},svgWidth:function(){return this.width+this.gapX},svgHeight:function(){return this.height+this.gapY},imageHtml:function(){var t=this.imageBase64,e=this.width,a=this.height,r=this.rotateStyle;return'<image\n          href="'.concat(t,'"\n          xlink:href="').concat(t,'"\n          x="0"\n          y="0"\n          width="').concat(e,'"\n          height="').concat(a,'"\n          style="').concat(r,'"\n        />')}},watch:{image:{handler:function(){var t=this;u(this.image).then((function(e){t.imageBase64=e}))},immediate:!0},imageBase64:function(){var t=this;setTimeout((function(){t.generateWatermarkUrl()}))},content:"generateWatermarkUrl",textColor:"generateWatermarkUrl",height:"generateWatermarkUrl",width:"generateWatermarkUrl",rotate:"generateWatermarkUrl",gapX:"generateWatermarkUrl",gapY:"generateWatermarkUrl"},mounted:function(){var t=this;console.log("slots",this.$slots),setTimeout((function(){t.generateWatermarkUrl()}))},methods:{styles:p["a"],generateWatermarkUrl:function(){this.$refs.svgElRef&&(this.revokeWatermarkUrl(),this.watermarkUrl=d(this.$refs.svgElRef.innerHTML))},revokeWatermarkUrl:function(){this.watermarkUrl&&URL.revokeObjectURL(this.watermarkUrl)}}},h=f,w=(a("b3bd"),a("33b6")),k=Object(w["a"])(h,m,g,!1,null,"6e0708a1",null),v=k.exports,y={name:"PressWatermark",components:{PressWatermarkWeb:v},props:Object(l["a"])(Object(l["a"])({},c),{},{watermark:{type:String,default:""}}),data:function(){return{}},mounted:function(){},methods:{}},x=y,b=Object(w["a"])(x,i,o,!1,null,"3bea1d21",null),W=b.exports,P={i18n:{"zh-CN":{switch:"切换",customOpacity:"自定义透明度",customGap:"自定义间隔",customImage:"自定义图片",customRotate:"自定义倾斜角度",displayRange:"显示范围",htmlWatermark:"HTML 水印",textWatermark:"文字水印",imageWatermark:"图片水印"},"en-US":{switch:"Switch",customOpacity:"Custom opacity",customGap:"Custom Gap",customRotate:"Custom Rotate",displayRange:"Display Range",htmlWatermark:"HTML Watermark",textWatermark:"Text Watermark",imageWatermark:"Image Watermark"}},components:{PressWatermark:W,PressButton:n["a"]},data:function(){return{fullPage:!1,image:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press/img/press-ui-full-logo.png",watermark:'<div\n              style="background: linear-gradient(45deg, #000 0, #000 50%, #fff 50%);"\n            >\n              <p style="mix-blend-mode: difference; color: #fff">\n                Press watermark\n              </p>\n            </div>'}},methods:{}},_=P,U=(a("071f"),Object(w["a"])(_,r,s,!1,null,"329b9dcf",null));e["default"]=U.exports}}]);